# Next.js

### 정의

Next.js는 React를 기반으로 한 프레임워크로, 서버 사이드 렌더링(SSR), 정적 사이트 생성(SSG), 이미지 최적화, 라우팅 등 현대 웹 개발에 필요한 기능을 기본 제공하는 올인원 프레임워크

### 개념

- React + 필수 웹 기능의 모음집
- 별도 설정 없이 빠르게 시작할 수 있도록 구성된 React 환경
- 디렉토리 기반 라우팅 제공 (pages/, app/)
- 다양한 렌더링 방식 지원:
  - CSR (Client-Side Rendering)
  - SSR (Server-Side Rendering)
  - SSG (Static Site Generation)
  - ISR (Incremental Static Regeneration)
- SEO에 강한 구조 (서버에서 HTML 제공 가능)
- 정적 자원 최적화, 이미지 최적화 등 내장 기능

### 장점

| 항목                     | 설명                                                                 |
| ------------------------ | -------------------------------------------------------------------- |
| 빠른 초기 개발           | 복잡한 번들러 설정(Webpack 등) 없이 시작 가능                        |
| 파일 기반 라우팅         | pages/index.tsx 또는 app/page.tsx 등 파일만으로 라우팅 구성          |
| 다양한 렌더링 방식       | SSR/SSG/CSR/ISR을 필요에 따라 선택 가능                              |
| SEO 최적화 용이          | 서버에서 렌더링된 HTML 제공 가능                                     |
| 이미지 최적화            | `<Image>` 컴포넌트를 통해 자동 최적화                                |
| 코드 스플리팅            | 페이지 단위 코드 분할로 성능 개선                                    |
| 정적/서버 자원 동시 활용 | API 라우트를 통해 백엔드 역할도 일부 수행 가능 (pages/api)           |
| 앱 디렉토리(App Router)  | 최신 구조(app/)로 컴포넌트 기반 레이아웃, 서버 컴포넌트 등 활용 가능 |

### 단점

| 항목               | 설명                                                                       |
| ------------------ | -------------------------------------------------------------------------- |
| 추상화된 구조      | 내부 설정(Webpack, Babel 등)이 감춰져 있어 세밀한 커스터마이징 어려움      |
| 학습 진입장벽      | React만 알던 개발자에겐 SSR, SSG, ISR, 서버 컴포넌트 등 새로운 개념이 부담 |
| 구조의 제약        | 라우팅, 폴더 구조, 서버 API 경로 등 일정한 규칙을 강제함                   |
| 버전 업데이트 부담 | v12, v13, v14 등 메이저 버전마다 구조 변화가 많음 (ex. App Router 도입)    |

### React와 Next.js 비교

| 항목                                 | React (CRA 등)                  | Next.js                         |
| ------------------------------------ | ------------------------------- | ------------------------------- |
| 성격                                 | 라이브러리                      | 프레임워크                      |
| 설정                                 | 수동 설정 필요 (라우팅, SSR 등) | 기본 설정 제공 (바로 사용 가능) |
| 라우팅 react-router-dom 등 별도 사용 | 파일 기반 자동 라우팅           |
| 렌더링 방식                          | 기본 CSR                        | CSR, SSR, SSG, ISR 모두 지원    |
| SEO 대응                             | CSR이므로 한계 있음             | SSR/SSG로 SEO 대응 유리         |
| 코드 스플리팅                        | 직접 구성                       | 페이지 단위 자동 분리           |
| 이미지 최적화                        | 직접 라이브러리 사용            | `<Image> ` 컴포넌트 제공        |
| API 서버                             | 별도 백엔드 필요                | /api/ 폴더로 라이트 백엔드 가능 |
| 학습 난이도                          | 낮음                            | 중간~높음                       |

### 보충 개념

| 개념                            | 설명                                                                 |
| ------------------------------- | -------------------------------------------------------------------- |
| SSR (서버 사이드 렌더링)        | 서버에서 HTML을 생성해서 클라이언트에 전달                           |
| SSG (정적 사이트 생성)          | 빌드 시 HTML을 미리 생성하여 빠른 응답 가능                          |
| ISR (점진적 정적 생성)          | 정적 파일을 일정 주기마다 갱신 (Next.js만의 기능)                    |
| App Router vs Pages Router      | 최신 Next.js 구조는 app/ 기반, 이전은 pages/ 사용                    |
| 서버 컴포넌트(Server Component) | 클라이언트 번들에 포함되지 않아 성능 개선 가능 (App Router에서 지원) |
| API Routes                      | /pages/api/\*.ts 형식으로 Express 없이 API 구성 가능                 |
